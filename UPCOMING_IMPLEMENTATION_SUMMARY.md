# Upcoming Filtering Implementation Summary

## âœ… Ð§Ñ‚Ð¾ ÑÐ´ÐµÐ»Ð°Ð½Ð¾

### 1. Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ `isUpcoming()` Ð² visibility utilities
- **Desktop:** `apps/desktop/src/utils/visibility.ts`
- **Mobile:** `apps/mobile/utils/visibility.ts`

**Ð›Ð¾Ð³Ð¸ÐºÐ°:**
```typescript
isUpcoming(visibleFrom, today, 7) â†’ true ÐµÑÐ»Ð¸:
  visible_from > today && visible_from <= today + 7 days
```

### 2. ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½ Mobile Dashboard (`useDashboard.ts`)
- âœ… **Today:** Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ `isVisibleToday()` Ð´Ð»Ñ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ð¸
- âœ… **Upcoming:** Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ `isUpcoming()` Ð´Ð»Ñ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ (Problem 4)
- âœ… **Overdue:** ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð° Ð»Ð¾Ð³Ð¸ÐºÐ° Ñ ÑƒÑ‡ÐµÑ‚Ð¾Ð¼ visibility
- âœ… **Ð¡Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ°:** Upcoming ÑÐ¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð¿Ð¾ `visible_from` (ÐºÐ¾Ð³Ð´Ð° Ð·Ð°Ð´Ð°Ñ‡Ð° ÑÑ‚Ð°Ð½ÐµÑ‚ Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹)

### 3. ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½ Desktop Today View
- âœ… Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ `isVisibleToday()` Ð´Ð»Ñ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ð¸
- âœ… ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Ð·Ð°Ð´Ð°Ñ‡Ð¸ Ñ duration Ð¸ Ð±ÐµÐ· deadline

---

## ðŸ“‹ Ð›Ð¾Ð³Ð¸ÐºÐ° Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ð¸

### Today
- ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð·Ð°Ð´Ð°Ñ‡Ð¸, Ð²Ð¸Ð´Ð¸Ð¼Ñ‹Ðµ **ÑÐµÐ³Ð¾Ð´Ð½Ñ**
- Ð¤Ð¾Ñ€Ð¼ÑƒÐ»Ð°: `visible_from <= today <= visible_until`
- Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚: `isVisibleToday(visibleFrom, visibleUntil)`

### Upcoming (Next 7 days)
- ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð·Ð°Ð´Ð°Ñ‡Ð¸, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ **ÑÑ‚Ð°Ð½ÑƒÑ‚ Ð²Ð¸Ð´Ð¸Ð¼Ñ‹Ð¼Ð¸** Ð² Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐ¸Ðµ 7 Ð´Ð½ÐµÐ¹
- Ð¤Ð¾Ñ€Ð¼ÑƒÐ»Ð°: `today < visible_from <= today + 7 days`
- Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚: `isUpcoming(visibleFrom, today, 7)`
- **ÐÐµ Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚** Ð·Ð°Ð´Ð°Ñ‡Ð¸, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ ÑƒÐ¶Ðµ Ð²Ð¸Ð´Ð¸Ð¼Ñ‹ ÑÐµÐ³Ð¾Ð´Ð½Ñ

### Overdue
- ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð·Ð°Ð´Ð°Ñ‡Ð¸ Ñ `deadline < today`
- Ð£Ñ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÑ‚, Ñ‡Ñ‚Ð¾ Ð·Ð°Ð´Ð°Ñ‡Ð° Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ ÐµÑ‰Ðµ Ð²Ð¸Ð´Ð¸Ð¼Ð° Ð¸Ð·-Ð·Ð° duration

---

## ðŸŽ¯ Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚

1. âœ… **Visibility engine** Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ ÐµÐ´Ð¸Ð½Ð¾Ð¾Ð±Ñ€Ð°Ð·Ð½Ð¾ Ð² Today Ð¸ Upcoming
2. âœ… **Duration Ð»Ð¾Ð³Ð¸ÐºÐ°** Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ Ð´Ð»Ñ Ð²ÑÐµÑ… Ð·Ð°Ð´Ð°Ñ‡
3. âœ… **Recurring tasks** Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð²ÐºÐ»ÑŽÑ‡Ð°ÑŽÑ‚ÑÑ Ñ‡ÐµÑ€ÐµÐ· visibility
4. âœ… **Calendar View Ð³Ð¾Ñ‚Ð¾Ð²** - Ð¼Ð¾Ð¶ÐµÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ñ‚Ðµ Ð¶Ðµ Ð¿Ð¾Ð»Ñ `visible_from`/`visible_until`
5. âœ… **Timezone-safe** - Ð²ÑÐµ ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ Ð´Ð°Ñ‚Ð°Ð¼Ð¸ (Ð±ÐµÐ· Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸)

---

## ðŸ“ Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ ÑˆÐ°Ð³Ð¸

- [ ] Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Upcoming screen/component Ð´Ð»Ñ Desktop (ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾)
- [ ] Calendar View Ð±ÑƒÐ´ÐµÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ `visible_from` â†’ `visible_until` Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½Ñ‹
- [ ] Week View Ð±ÑƒÐ´ÐµÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ñ‚Ñƒ Ð¶Ðµ Ð»Ð¾Ð³Ð¸ÐºÑƒ

Ð’ÑÐµ Ð³Ð¾Ñ‚Ð¾Ð²Ð¾ Ð´Ð»Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ð² Calendar Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ñ… view!

